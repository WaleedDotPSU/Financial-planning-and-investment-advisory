<%- include('partials/header.ejs') %>
<title>Investment Options - Investopia</title>
<link rel="stylesheet" href="/css/options-page.css">

<body class="with-welcome-text">
  <div class="container-scroller">
    <nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex align-items-top flex-row">
      <%- include('partials/logo.ejs') %>
      <div class="navbar-menu-wrapper d-flex align-items-top">
        <ul class="navbar-nav">
          <li class="nav-item fw-semibold d-none d-lg-block ms-0">
            <h1 class="welcome-text">
              <span class="text-black fw-bold">Investment Options Page</span>
            </h1>
            <h3 class="welcome-sub-text">Choose the option that suits you best</h3>
          </li>
        </ul>
        <%- include('partials/signout.ejs') %>
      </div>
    </nav>
    <div class="container-fluid page-body-wrapper">
      <%- include('partials/sidebar.ejs') %>
      <div class="main-panel">
        <div class="content-wrapper">
          <div class="row">
            <div class="col-sm-12">
              <div class="home-tab">
                <div class="d-sm-flex align-items-center justify-content-between border-bottom">
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                      <a class="nav-link" id="home-tab" href="/deposit-page" role="tab" aria-controls="overview" aria-selected="true">Deposit Money</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" id="profile-tab" href="/withdraw-page" role="tab" aria-selected="false">Withdraw Money</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" id="contact-tab" href="/link-account-page" role="tab" aria-selected="false">Link Bank Account</a>
                    </li>
                  </ul>
                </div>
                <div class="tab-content tab-content-basic">
                  <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview">
                    <div class="main-content">
                      <!-- Main content -->
                      <div class="pricing-table">
                        <% const risks = ['high', 'medium', 'low']; %>
                        <% risks.forEach(risk => { %>
                        <div class="plan">
                          <div class="plan-header <%= risk %>">
                            <h2><%= risk.charAt(0).toUpperCase() + risk.slice(1) %> Risk</h2>
                            <p class="description">FOR PLANNED INVESTMENTS</p>
                            <p class="details">
                              <%= risk === 'high' ? 'Higher potential ROI but higher risks' :
                                  risk === 'medium' ? 'Balanced ROI and risk' :
                                  'Lower ROI but safer investments' %>
                            </p>
                            <p class="details">
                              <%= risk === 'high' ? 'Stocks: 70%, Bonds: 20%, Others: 10%' :
                                  risk === 'medium' ? 'Stocks: 50%, Bonds: 30%, Others: 20%' :
                                  'Stocks: 30%, Bonds: 50%, Others: 20%' %>
                            </p>
                          </div>
                          <ul class="features">
                            <li>Portfolio details</li>
                            <li>Performance tracking</li>
                            <li>Investment advice</li>
                          </ul>
                          <% if (typeof user !== 'undefined' && user.investments && user.investments.some(investment => investment.risk === risk)) { %>
                            <button class="btn1 stop-invest-btn active" data-risk="<%= risk %>">STOP INVESTMENT</button>
                          <% } else { %>
                            <button class="btn1 start-invest-btn" data-risk="<%= risk %>">START INVESTMENT</button>
                            <div class="investment-input" style="display: none;">
                              <input type="number" class="investment-amount" placeholder="Enter amount">
                              <button class="btn1 invest-btn" data-risk="<%= risk %>">Invest</button>
                            </div>
                          <% } %>
                        </div>
                        <% }); %>
                      </div>
                      <div id="message-container"></div>
                      <!-- Main content -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <%- include('partials/footer.ejs') %>
      </div>
    </div>
  </div>
  <%- include('partials/script.ejs') %>
  <script src="/js/investment.js"></script>
</body>
</html>
